$blink-items: 5; // 表示する span の数（必要に応じて変更）

.blink-text-yellow {
  display: flex;
  flex-direction: column;
  position: absolute;
  z-index: 3;
  top: 398px;
  right: 92px;
  gap: 27px;

  span {
    width: 181px;
    height: 51px;
    background: url(../img/text_yellow.svg?001) no-repeat;

    img {
      width: 179px;
    }
  }
}

.blink-text {
  span {
    display: inline-block;
    animation: opacity-animation 2.5s infinite;

    img {
      opacity: 0;
      animation: blink-animation 2.5s infinite;
    }

    // animation-delay をループで適用（2番目以降に適用）
    @for $i from 2 through $blink-items {
      &:nth-child(#{$i}),
      &:nth-child(#{$i}) img {
        animation-delay: #{($i - 1) * 0.5}s;
      }
    }
  }
}

// アニメーションのキーフレーム
@keyframes opacity-animation {
  0%,
  20% {
    background-size: 0;
  }
  20.1%,
  100% {
    background-size: auto;
  }
}

@keyframes blink-animation {
  0%,
  20% {
    opacity: 1;
  }
  20.1%,
  100% {
    opacity: 0;
  }
}

/* ==============================================
   フェードインアニメーション用の初期状態
   ============================================== */
.gradient {
  // マスクとして使うグラデーション画像を定義
  mask-image: linear-gradient(
    black 0%,
    // 上から 0%〜35%：完全に表示される領域
    black 35%,
    transparent 75%,
    // 35%〜75%：ぼかし始め（徐々に非表示）
    transparent 100% // 75%〜100%：完全に非表示
  );

  // マスクを1回だけ、上下方向に拡大して使う
  mask-repeat: no-repeat;
  mask-size: auto 250%; // マスクの高さを2.5倍にすることで余裕を持たせる
  mask-position: 0 250%; // 初期位置：マスクが下にある＝全体が隠れている状態
}

/* ==============================================
     アニメーションの発火条件（クラスを付与した時）
     ============================================== */
.gradient.show {
  animation: fade-in-animation 1s forwards; // 1秒でアニメーション → 最後の状態を維持
}

/* ==============================================
     マスクを動かしてフェードインするアニメーション
     ============================================== */
@keyframes fade-in-animation {
  0% {
    mask-position: 0 250%; // 初期：マスクが下＝要素は隠れている
  }
  100% {
    mask-position: 0 0; // 終了：マスクが上に移動＝要素がすべて見える
  }
}
