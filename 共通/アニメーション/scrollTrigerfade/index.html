<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>フェードイン簡略版</title>

    <style>
      body {
        margin: 0;
        font-family: sans-serif;
        background: #f8f8f8;
      }
      .sec {
        padding: 100vh 0;
      }
      .sec__list {
        width: 50rem;
        margin: 0 auto;
        padding-top: 100vh;
        position: relative;
        /* min-height: 200vh; */
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        gap: 2rem;
        padding: 5rem 0;
      }

      .sec__img {
        width: 24rem;
      }

      .fade {
        opacity: 0;
        /* transform: translateY(40px); */
        transition: opacity 1s ease, transform 1s ease;
        position: relative;
        overflow: hidden;
      }

      .fade img {
        display: block;
        width: 100%;
        height: auto;
      }
    </style>

    <!-- GSAP + ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        gsap.registerPlugin(ScrollTrigger);

        // すべての.fade要素を取得
        const fades = document.querySelectorAll('.fade');

        fades.forEach((el) => {
          const isEven = el.classList.contains('even');
          const isScale = el.classList.contains('scale');

          gsap.fromTo(
            el,
            {
              opacity: 0,
              y: 0,
              filter: 'blur(10px)',
              scale: isScale ? 1.1 : 1, //.scaleの場合は1.1倍の大きさから
            },
            //  { opacity: 0, y: 50, filter: 'blur(10px)' },
            {
              opacity: 1,
              y: 0,
              filter: 'blur(0px)',
              scale: 1,
              duration: 1.2,
              ease: 'power2.out',
              // delay: isEven ? 0.3 : 0, // .evenの場合は遅延
              scrollTrigger: {
                trigger: el,
                // start: 'top 80%',
                start: isEven ? 'top 80%-=50' : 'top 80%', // .evenは下に50pxずらして開始
                end: 'bottom 60%',
                toggleActions: 'play none none reverse',
                scrub: true, // スクロール量に応じて変化(start 〜 end の間を「アニメーションの進行範囲」として扱う)
                markers: true,
              },
            }
          );
        });
      });
    </script>
  </head>

  <body>
    <div class="sec">
      <div class="sec__list">
        <div class="sec__img fade scale">
          <img src="https://picsum.photos/300/200?random=1" alt="" />
        </div>
        <div class="sec__img fade even">
          <img src="https://picsum.photos/300/200?random=2" alt="" />
        </div>
        <div class="sec__img fade">
          <img src="https://picsum.photos/300/200?random=3" alt="" />
        </div>
        <div class="sec__img fade even scale">
          <img src="https://picsum.photos/300/200?random=4" alt="" />
        </div>
        <div class="sec__img fade">
          <img src="https://picsum.photos/300/200?random=5" alt="" />
        </div>
        <div class="sec__img fade even">
          <img src="https://picsum.photos/300/200?random=6" alt="" />
        </div>
      </div>
    </div>
  </body>
</html>
